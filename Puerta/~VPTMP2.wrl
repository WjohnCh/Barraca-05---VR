#VRML V2.0 utf8

DEF SwitchPuerta Switch{
whichChoice 0
choice[

Group{
children[
Transform{
translation -12 -0.77 137.4
children[
Inline{url "Puerta1.wrl"}
]
}
Transform{
translation -18 -0.77 137.4
children[
Inline{url "Puerta2.wrl"}
]
}
Transform{
translation -23 8 138
rotation 0 1 0 0.5
children[
Shape{
appearance Appearance{
texture ImageTexture{
url "Puertanun.png"
}
}
geometry Box{size 5 2 0.1}
}
]
}
]
},

Group{
children[
Transform{
translation -25.5 -0.77 135.5
children[
Inline{url "Puertacer2.wrl"}
]
}
Transform{
translation -4.6 -0.77 135.5
children[
Inline{url "Puertacer1.wrl"}
]
}
Transform{
translation -14 8 135.4
children[
Shape{
appearance Appearance{
texture ImageTexture{
url "Puertanun.png"
}
}
geometry Box{size 5 2 0.1}
}
]
}
]
}
]
}

DEF PuertaSensor TouchSensor{}

DEF PuertaScript Script{
eventIn SFBool click
eventOut SFInt32 estadoPuerta

field SFBool isClosed TRUE

url "javascript:
function click(isActive){
if (isActive){
isClosed = !isClosed;
estadoPuerta = isClosed ? 0 : 1;
}
}
"
}

ROUTE PuertaSensor.isActive TO PuertaScript.click

ROUTE PuertaScript.estadoPuerta TO SwitchPuerta.whichChoice